<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&display=swap" rel="stylesheet">
  <title>Pencil Attribute in Directory Structure</title>
  <style>
    html {
      font-size: 16px;
    }

    body {
      font-family: 'Noto Sans JP', Arial, sans-serif;
      background-color: hsl(0, 0%, 0%);
      color: hsl(42, 100%, 80%);
      padding: 2rem;
      margin: 0;
    }

    .page {
      padding: 1.25rem;
      margin: 1.25rem auto;
      max-width: 46.875rem;
      background-color: hsl(0, 0%, 0%);
      box-shadow: 0 0 0.625rem hsl(42, 100%, 50%);
    }

    ul, li {
      font-size: 1rem;
      list-style-type: none;
    }

    li::before {
      content: "â€¢ ";
      margin-right: 0.3125rem;
    }

    li {
      margin-bottom: 0.3125rem;
    }

    .description {
      margin-left: 0.625rem;
      color: hsl(42, 100%, 75%);
    }

    code {
      font-family: 'Courier New', Courier, monospace;
      background-color: hsl(0, 0%, 25%);
      color: hsl(42, 100%, 90%);
      padding: 0.125rem 0.25rem;
      border-radius: 0.1875rem;
      font-size: 90%;
    }

    h1 {
      text-align: center;
      color: hsl(42, 100%, 84%);
      text-transform: uppercase;
      margin-bottom: 1.25rem;
    }

    h2 {
      color: hsl(42, 100%, 84%);
      text-transform: uppercase;
      margin-top: 2.5rem;
    }

    p {
      color: hsl(42, 100%, 90%);
      margin-bottom: 1.25rem;
      text-align: justify;
    }
  </style>
</head>
<body>
  <div class="page">
<h1>The Pencil Suffix and Authored Files</h1>

<h3>How to Use the Pencil Suffix</h3>

  <p>The pencil suffix is a Unicode character, ðŸ–‰, that is placed as the last character of a filename or directory name. It signifies that the file, or contents of a so named directory, are uniquely authored and should not be deleted or rebuilt by clean scripts or build scripts. The pencil suffix also serves as a communication tool among team members.</p>

  <strong>Two methods for marking a file as authored:</strong>
  <ul>
    <li><em>Directory with Pencil Suffix:</em> This method marks all contents within the directory sub-tree as being authored.</li>
    <li><em>File Name Last Character as Pencil:</em> This directly marks the file itself as authored and protected.</li>
  </ul>
</li>

  <p>The recommended method to mark files as authored is to place them in a directory, where the name of said directory ends with the pencil symbol. Directly marked files will then be exceptional cases.</p>

<h3>Replace <code>rm</code> with <code>rm_na</code> in scripts</h3>
<p>The <code>rm_na</code> command is a modified version of the standard <code>rm</code> command that refuses to delete files marked as being authored.
  This is true whether the file is marked as authored with a pencil
  suffix or is found in a directory tree marked as such.

  
<p>Use <code>rm_na</code> in place of <code>rm</code>  in scripts that clean, build, or otherwise manipulate project files.</p>

<p>While <code>rm_na</code> offers a safeguard, the pencil suffix itself does not enforce permissions. Users can still manually delete ðŸ–‰-marked files using <code>rm</code>, and roqque builds can overwrite them. Therefore, programmers should remain cautious.</p>

<h3>Pencil suffix and editablity</h3>

<p>The pencil suffix does not inherently restrict or permit editing. A file without the pencil suffix that has write permissions can also be edited; however, such edits are at risk of being overwritten or lost during builds or cleans. While lack of a pencil suffix on a file, or inclusion in such a directory, does not prevent a file from being edited - it does mean that it might not be advisable to edit such a file. Conversely, it is intended that a file marked as authored can be edited without fear of
  the edits being overwritten. Hence these are the appropriate places to insert edits into a project. In this sense the pencil suffix does indicate a file is 'editable'.</p>

<h3>Symbolic Links</h3>

<p> A symbolic link can facilitate access to authored files; however, the link itself is independently created or deleted. Hence, a pencil suffix on a target file or directory does not reflect through to the name given to the link. The pencil suffix is about protecting authored content from deletion, but the link can be deleted without losing the authored content. Consequently, a symbolic link name will never have a pencil suffix.</p>

<p>Symbolic links not carrying pencil suffixes suggests that a distinction be made between the pencil suffix indicating authored material that should not be deleted by project scripts, and that of the pencil indicating where edits should be inserted into the project. This is because dropping the pencil on the link name weakens the interpretation of the pencil suffix as indicting points in the project where edits should be made. The target files still indicate this, but a user might only see the symbolic links in the directory listing.</p>

<h3>Hard Links</h3>

<p> Among multiple hard links, none is distinguished as being the primary file link. Hence, should a hard link point at an authored file, and that hardlink is not in a directory that already identifies it as an authored file, it should have the pencil suffix. It is the only option available, because in general we can not know the order of deletion of the hard links, and thus do not know which will be the last one that should not be deleted. Hard links are strange beasts that should be avoided for many other reasons as well.</p>


<h3>Future direction</h3>

<p>In the future we hope for tighter integration with the OS, perhaps through use of sub-users (see the subu project), or through a property based file system. For now it is a communication tool, one which is strengthened through use of the <code>rm_na</code> command.</p>


</body>
</html>
